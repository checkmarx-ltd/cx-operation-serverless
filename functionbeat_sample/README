Functionbeat set up instructions

reference: https://www.elastic.co/guide/en/beats/functionbeat/7.10/functionbeat-installation-configuration.html

1.	Download functionbeat:

curl -L -O https://artifacts.elastic.co/downloads/beats/functionbeat/functionbeat-7.10.2-linux-x86_64.tar.gz
tar xzvf functionbeat-7.10.2-linux-x86_64.tar.gz

2.	Download configuration file
Cd functionbeat-7.10.2-linux-x86_64
edit functionbeat.yml

copy configuration file

3.	Connect to cli using you user – required permissions:
https://www.elastic.co/guide/en/beats/functionbeat/current/iam-permissions.html

4.	Create a bucket in your account to be suitable to functionbeat
5.	Set bucket name in functionbeat.yml (line 8 in sample file)
6.	Edit log group fields (lines 22-23)
7.  Set elastic cloud credentials - cloud auth (line 88)
8.	Optional – edit functionbeat lambda name (line 13)
9.	Deploy functionbeat:

./functionbeat -v -e -d "*" deploy functionbeat_name


10.	To update configuration upon change run
./functionbeat -v -e -d "*" update functionbeat_name

11.	 ./functionbeat --help

Usage:
  functionbeat [flags]
  functionbeat [command]

Available Commands:
  deploy      Deploy a function
  export      Export current config, index template or function
  help        Help about any command
  keystore    Manage secrets keystore
  package     Package the configuration and the executable in a zip
  remove      Remove a function
  setup       Setup index template, dashboards and ML jobs
  test        Test config
  update      Update a function
  version     Show current version info

Flags:
  -E, --E setting=value              Configuration overwrite
  -N, --N                            Disable actual publishing for testing
  -c, --c string                     Configuration file, relative to path.config (default "functionbeat.yml")
      --cpuprofile string            Write cpu profile to file
  -d, --d string                     Enable certain debug selectors
  -e, --e                            Log to stderr and disable syslog/file output
      --environment environmentVar   set environment being ran in (default default)
  -h, --help                         help for functionbeat
      --httpprof string              Start pprof http server
      --memprofile string            Write memory profile to this file
      --path.config string           Configuration path
      --path.data string             Data path
      --path.home string             Home path
      --path.logs string             Logs path
      --plugin pluginList            Load additional plugins
      --strict.perms                 Strict permission checking on config files (default true)
  -v, --v                            Log at INFO level

Use "functionbeat [command] --help" for more information about a command.


